<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Racer toevoegen</title>
        <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js"></script>
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <script src="js/functions.js"></script>
        <script>
            'use strict'
            window.onload = init;
            function init(){
               for (var a of document.getElementsByTagName('a'))
                    {
                        a.addEventListener('click', function(e){
                            getNewPage(e.srcElement.getAttribute('url'));
                        })
                    }
            };
            function getNewPage(url){
                var content = document.getElementById('content');
                var newContent = '';
                switch (url){
                    case "male":
                        newContent = 'http://localhost:8081/list/gender/man';
                        break;
                    case 'female': 
                        newContent = 'http://localhost:8081/list/gender/vrouw';
                        break;
                    case 'all':
                        newContent = 'http://localhost:8081/list';
                        break;
                }
              var xml = new XMLHttpRequest();
              xml.open('GET', newContent);
              xml.onreadystatechange = function(){
                  if (xml.status==200 &&xml.readyState==4)
                    {
                        var content = document.getElementById('content');
                        content.innerHTML = '';
                        var runners = JSON.parse(xml.responseText);
                        for (var runner of runners)
                            {
                                console.log(runner);
                            }
                    }
              }  
              xml.send();
            }
        </script>
    </head>
    <body>
        <div class="container-fluid text-center">
            <div class="row">
                <div class="col-sm-10 col-sm-offset-1">
                    <ul class="nav nav-tabs">
                        <li><a url="male" id="1">Male finishers</a></li>
                        <li><a url="female" id="2">Female finishers</a></li>
                        <li><a url="all" id="3">All finishers</a></li>
                        <li><a url="new" id="4" >Insert new finisher</a></li>
                    </ul>
                </div>
            </div>
            <div id="content">
                
            </div>
        </div>
    </body>
</html>